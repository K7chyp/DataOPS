
# DataOps. –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –ø–æ —Ç–µ–º–µ 13-14

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
–î–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ—à–µ–Ω–∏–µ **–í–∞—Ä–∏–∞–Ω—Ç–∞ 2** –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è –ø–æ —Ç–µ–º–µ "k8s —Ä–µ—Å—É—Ä—Å—ã".
–¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è: –∑–∞–∫—Ä–µ–ø–∏—Ç—å –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ (CPU, memory) –≤ Kubernetes, –Ω–∞—Å—Ç—Ä–æ–π–∫—É shared memory, —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ (Redis) –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Å–µ—Ç–µ–≤—ã—Ö –ø–æ–ª–∏—Ç–∏–∫ (NetworkPolicy).

**–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:**
1.  –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –≤—ã–¥–µ–ª—è–µ–º—ã–º —Ä–µ—Å—É—Ä—Å–∞–º –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `backend` –∏–∑ –î–ó13.
2.  –î–ª—è `backend` —É–≤–µ–ª–∏—á–µ–Ω–∞ `shared memory` (`/dev/shm`) –¥–æ `128Mi`.
3.  –†–∞–∑–≤–µ—Ä–Ω—É—Ç `redis` —Å –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –ø–æ —Ä–µ—Å—É—Ä—Å–∞–º.
4.  –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ—Ç–µ–≤–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ (`NetworkPolicy`), —Ä–∞–∑—Ä–µ—à–∞—é—â–∞—è `redis` –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Ç–æ–ª—å–∫–æ –æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `backend`.

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
.
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ deployment.yaml     # Deployment –¥–ª—è Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ª–∏–º–∏—Ç–∞–º–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ shm
‚îÇ   ‚îú‚îÄ‚îÄ service.yaml        # –°–µ—Ä–≤–∏—Å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ backend
‚îÇ   ‚îî‚îÄ‚îÄ ingress.yaml        # Ingress –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –ø–æ HTTP
‚îú‚îÄ‚îÄ redis/
‚îÇ   ‚îú‚îÄ‚îÄ deployment.yaml     # Deployment –¥–ª—è Redis —Å –ª–∏–º–∏—Ç–∞–º–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ service.yaml        # –°–µ—Ä–≤–∏—Å –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ Redis
‚îú‚îÄ‚îÄ networkpolicy.yaml      # –°–µ—Ç–µ–≤–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞, –∏–∑–æ–ª–∏—Ä—É—é—â–∞—è Redis
‚îî‚îÄ‚îÄ README.md               # –î–∞–Ω–Ω—ã–π —Ñ–∞–π–ª
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### Backend (Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
*   **–û–±—Ä–∞–∑:** `/dataops-webapp:1.0.0`
*   **–†–µ—Å—É—Ä—Å—ã:**
    *   Requests: `100m` CPU, `128Mi` –ø–∞–º—è—Ç–∏
    *   Limits: `200m` CPU, `256Mi` –ø–∞–º—è—Ç–∏
*   **Shared Memory:** `/dev/shm` —Ä–∞–∑–º–µ—Ä–æ–º `128Mi`
*   **–ü—Ä–æ–≤–µ—Ä–∫–∏:** –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã `startupProbe`, `readinessProbe` –∏ `livenessProbe` –ø–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç—É `/health`.

### Redis
*   **–û–±—Ä–∞–∑:** `redis:7-alpine`
*   **–†–µ—Å—É—Ä—Å—ã:**
    *   Requests: `50m` CPU, `64Mi` –ø–∞–º—è—Ç–∏
    *   Limits: `100m` CPU, `128Mi` –ø–∞–º—è—Ç–∏
*   **–ü–æ–ª–∏—Ç–∏–∫–∞ –ø–∞–º—è—Ç–∏:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ `100mb` –≤–Ω—É—Ç—Ä–∏ Redis —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è `allkeys-lru`.

### –°–µ—Ç–µ–≤–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞
*   **–ò–º—è:** `allow-backend-to-redis`
*   **–ü—Ä–∞–≤–∏–ª–æ:** –†–∞–∑—Ä–µ—à–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ –ø–æ—Ä—Ç `6379` Redis **—Ç–æ–ª—å–∫–æ** –æ—Ç –ø–æ–¥–æ–≤ —Å –ª–µ–π–±–ª–æ–º `app: dataops-webapp` (backend). –í–µ—Å—å –æ—Å—Ç–∞–ª—å–Ω–æ–π —Ç—Ä–∞—Ñ–∏–∫ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è.

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

<img width="1422" height="402" alt="image" src="https://github.com/user-attachments/assets/27d88569-3c23-4f46-b77e-b2370c22ccac" />

<img width="1403" height="673" alt="image" src="https://github.com/user-attachments/assets/b8a961c1-ddd0-4a40-a1e4-7a601bf0395e" />

<img width="1429" height="765" alt="image" src="https://github.com/user-attachments/assets/9dc74178-e7fd-49cb-bd67-210c8d6203e6" />

## –ü—Ä–æ–±—Ä–æ—Å–∏–ª –ø–æ–¥—ã!!!!
<img width="537" height="220" alt="image" src="https://github.com/user-attachments/assets/3ca5ac17-850c-4ee4-9a70-e18cf52cac9c" />
